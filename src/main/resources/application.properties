spring.profiles.active=${SPRING_PROFILES_ACTIVE:-default}

# Common settings
spring.servlet.multipart.max-file-size=150MB
spring.servlet.multipart.max-request-size=2GB
spring.servlet.multipart.enabled=true

#----------------------------------------#
# PostgreSQL Configuration
# Spring Boot Auto-Configuration handles the DataSource automatically
spring.datasource.url=jdbc:postgresql://${POSTGRES_HOST:-localhost}:${POSTGRES_PORT:-5432}/${POSTGRES_DB:-edens_zac}
spring.datasource.username=${POSTGRES_USER:-zedens}
spring.datasource.password=${POSTGRES_PASSWORD:-password}
spring.datasource.driver-class-name=org.postgresql.Driver

#----------------------------------------#
# HikariCP Connection Pool Configuration
spring.datasource.hikari.maximum-pool-size=5
spring.datasource.hikari.minimum-idle=1
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.validation-timeout=5000
spring.datasource.hikari.leak-detection-threshold=60000

# PostgreSQL Specific Optimization
# Enables driver to cache prepared statements (performance boost)
spring.datasource.hikari.data-source-properties.cachePrepStmts=true
spring.datasource.hikari.data-source-properties.prepStmtCacheSize=250
spring.datasource.hikari.data-source-properties.prepStmtCacheSqlLimit=2048

#----------------------------------------#
# AWS S3 Configuration
aws.access.key.id=${AWS_ACCESS_KEY_ID}
aws.secret.access.key=${AWS_SECRET_ACCESS_KEY}
aws.s3.region=us-west-2
aws.portfolio.s3.bucket=${AWS_PORTFOLIO_S3_BUCKET}
cloudfront.domain=${AWS_CLOUDFRONT_DOMAIN}

#----------------------------------------#
# Logging Configuration
logging.level.root=INFO
logging.level.edens.zac.portfolio.backend=DEBUG